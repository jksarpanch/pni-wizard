!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("PniWizard",[],t):"object"==typeof exports?exports.PniWizard=t():e.PniWizard=t()}(self,function(){return(()=>{"use strict";var n={22:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showNextQuestion=t.closeInteractiveWizard=t.openInteractiveWizard=void 0;var i=new(n(729).PniWizard),o=i.openInteractiveWizard,n=i.closeInteractiveWizard,i=i.showNextQuestion;t.openInteractiveWizard=o,t.closeInteractiveWizard=n,t.showNextQuestion=i},729:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PniWizard=void 0;var i=n(300);n(307);n=function(){var e=this;this.openInteractiveWizard=function(){e.wf.interactiveWizard()},this.closeInteractiveWizard=function(){e.wf.closeInteractiveWizard()},this.showNextQuestion=function(){e.wf.showNextQuestion()},this.wf=new i.WizardFunctions};t.PniWizard=n},300:function(e,t){var n=this&&this.__awaiter||function(e,s,a,u){return new(a=a||Promise)(function(n,t){function i(e){try{r(u.next(e))}catch(e){t(e)}}function o(e){try{r(u.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((u=u.apply(e,s||[])).next())})},i=this&&this.__generator||function(n,i){var o,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=i.call(n,a)}catch(e){t=[6,e],r=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WizardFunctions=void 0;var o=(r.prototype.fetchedQuestions=function(){return n(this,void 0,void 0,function(){var t,n;return i(this,function(e){switch(e.label){case 0:return[4,fetch("https://pni-dev-p2p-web-api.pnidev.com/PNIMEDIA/DynamicQuestions/")];case 1:return t=e.sent(),n=this,[4,t.json()];case 2:return n.questions=e.sent(),[2]}})})},r.prototype.setCurrentQuestionIndex=function(e){this.currentQuestionIndex=e},r.prototype.getWizardContent=function(){return'<div class="pni-wizard-header">\n    <div class="title">Let me help You!</div>\n    <button data-close-button class="close-button" id=\'pni-wizard-closeBtn\'>&times;</button>\n    </div>\n    <div class="pni-wizard-body">\n        <div class="pni-questions"></div>\n    </div>'},r.prototype.initializeWizard=function(e,t){t&&this.removeRepetitiveElements(),e.innerHTML=t?'<div class="pni-wizard active" id="pni-interactive-wizard">'+this.getWizardContent()+"</div>":this.getWizardContent()},r.prototype.addQuestionAnswerHtml=function(e){for(var t=this.questions[e],n=t.Choices,i='<div class="pni-questions" style=\'text-align: center; margin-bottom: 10px\'>\n        <span class="pni-question" style="font-weight: bold"> '+t.Question+'</span>\n        <div style=\'text-align: right; margin-top: 10px\'>\n        <select class="select-css" name="answerOptions'+e+'" id="answerOptions'+e+'">\n        <option value="">Select</option>\n        </div>\n        ',o=0;o<n.length;o++)i+='<option value="'+n[o]+'">'+n[o]+"</option>";return i+="</select></div > "},r.prototype.initializeFirstQuestion=function(){var t=this;document.querySelector(".pni-wizard-body").innerHTML=this.addQuestionAnswerHtml(0);var e="answerOptions"+this.currentQuestionIndex;document.getElementById(e).addEventListener("change",function(e){return t.handleOptionChange(e,0)})},r.prototype.isPniWizardOpen=function(){var e=document.getElementById("pni-interactive-wizard");return e&&e.classList.contains("active")},r.prototype.clearAllQuestions=function(){document.querySelector(".pni-wizard-body").innerHTML=""},r.prototype.wizardPositioning=function(e){var t=e.getAttribute("top"),n=(i=e.getAttribute("right"))?this.defaultLeftPosition:e.getAttribute("left"),e=document.getElementById("pni-interactive-wizard"),t=t||this.defaultTopPosition,i=i||this.defaultRightPosition,n=n||this.defaultLeftPosition;e.style.top=t,e.style.right=i,e.style.left=n},r.prototype.showNextQuestion=function(){var e,t,n,i=this;this.isPniWizardOpen()&&this.currentQuestionIndex<this.questions.length-1&&(e=document.querySelector(".pni-wizard-body"),n=this.addQuestionAnswerHtml(this.currentQuestionIndex),e.insertAdjacentHTML("beforeend",n),n="answerOptions"+(t=this.currentQuestionIndex),document.getElementById(n).addEventListener("change",function(e){return i.handleOptionChange(e,t)}),this.setCurrentQuestionIndex(this.currentQuestionIndex+1))},r.prototype.removeRepetitiveElements=function(){for(var e=document.querySelectorAll("[id=pni-interactive-wizard]"),t=0;t<e.length;t++)e[t].remove()},r);function r(){var i=this;this.currentQuestionIndex=0,this.questionsApiRetryCount=0,this.defaultTopPosition="25%",this.defaultRightPosition="2%",this.defaultLeftPosition="unset",this.handleOptionChange=function(e,t){var n=i.questions[t],t=n.Question;parseInt(n.Sequence)==i.currentQuestionIndex&&(i.showNextQuestion(),window.parent.postMessage(["d0e3a315-a896-401d-a1ef-359156788dad","beda4aed-54c1-4a86-95da-d47d9b4206de","d7b599bd-8740-4289-9c1f-8380b2595998","efc52615-71ad-46e3-8367-1aa95f5ed2da","dcf311ca-7baf-414e-b4d2-6e047a1083a2","3ad933c7-33b4-4247-a10f-82fd7fde6537","dca41adb-25cb-4c50-aa02-b49e95c70d55"],"https://satish0543.wixsite.com"));e={eventType:"user_answered_question",eventData:{question:t,answerValue:e.target.value}};window.pniTrackingEvent(e)},this.closeInteractiveWizard=function(){document.getElementsByTagName("Analytics-Wizard")[0].innerHTML=""},this.populateWizard=function(e,t){i.questionsApiRetryCount=0,i.setCurrentQuestionIndex(0),i.initializeWizard(e,t),i.initializeFirstQuestion(),i.setCurrentQuestionIndex(i.questions[0].Sequence);var n=e.getAttribute("positioning");n&&"true"==n&&i.wizardPositioning(e),t||e.classList.add("active"),document.getElementById("pni-wizard-closeBtn").addEventListener("click",i.closeInteractiveWizard)},this.interactiveWizard=function(){var e=!!(t=document.getElementsByTagName("Analytics-Wizard")[0]),t=t||document.getElementById("pni-interactive-wizard"),n=i.questions&&1<=i.questions.length;t&&!i.isPniWizardOpen()&&n?i.populateWizard(t,e):!i.isPniWizardOpen()&&!n&&i.questionsApiRetryCount<30&&(console.log("Tried",i.questionsApiRetryCount),i.questionsApiRetryCount++,setTimeout(function(){i.interactiveWizard()},250))},this.fetchedQuestions()}t.WizardFunctions=o},307:(e,t,n)=>{n.r(t)}},i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return n[e].call(t.exports,t,t.exports,o),t.exports}return o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(22)})()});